<html><body><div class="webkit-line-gutter-backdrop"></div><table><tbody><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;title&gt;</span>Geolocation<span class="webkit-html-tag">&lt;/title&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">viewport</span>" <span class="webkit-html-attribute-name">content</span>="<span class="webkit-html-attribute-value">initial-scale=1.0, user-scalable=no</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">charset</span>="<span class="webkit-html-attribute-value">utf-8</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;link <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="https://google-developers.appspot.com/maps/documentation/javascript/examples/default.css">/maps/documentation/javascript/examples/default.css</a>" <span class="webkit-html-attribute-name">rel</span>="<span class="webkit-html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-comment">&lt;!--</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    Include the maps javascript with sensor=true because this code is using a</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    sensor (a GPS locator) to determine the user's location.</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    See: https://developers.google.com/apis/maps/documentation/javascript/basics#SpecifyingSensor</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    --&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=true">https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=true</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">var map;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function initialize() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var mapOptions = {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    zoom: 6,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    mapTypeId: google.maps.MapTypeId.ROADMAP</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  };</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  map = new google.maps.Map(document.getElementById('map-canvas'),</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      mapOptions);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  // Try HTML5 geolocation</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  if(navigator.geolocation) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    navigator.geolocation.getCurrentPosition(function(position) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      var pos = new google.maps.LatLng(position.coords.latitude,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">                                       position.coords.longitude);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      var infowindow = new google.maps.InfoWindow({</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        map: map,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        position: pos,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">        content: 'Location found using HTML5.'</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      });</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      map.setCenter(pos);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    }, function() {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">      handleNoGeolocation(true);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    });</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  } else {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    // Browser doesn't support Geolocation</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    handleNoGeolocation(false);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">function handleNoGeolocation(errorFlag) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  if (errorFlag) {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var content = 'Error: The Geolocation service failed.';</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  } else {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    var content = 'Error: Your browser doesn\'t support geolocation.';</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  }</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var options = {</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    map: map,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    position: new google.maps.LatLng(60, 105),</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    content: content</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  };</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  var infowindow = new google.maps.InfoWindow(options);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  map.setCenter(options.position);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">google.maps.event.addDomListener(window, 'load', initialize);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;/head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">    <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">map-canvas</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;/body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"></td></tr></tbody></table></body></html>